
INTRO_TEXT = (
    "<b>üéûÔ∏è –ü–ª—ë–Ω–∫–∞ —Å—É–¥—å–±—ã: —Ç–≤–æ—è –ø—Ä–æ—Ñ–µ—Å—Å–∏—è –≤ XX –≤–µ–∫–µ</b>\n"
    '<a href=\"https://i.pinimg.com/736x/23/42/e3/2342e3dfec847e418e110c7d4d4921c0.jpg\">&#8205;</a>\n'
    "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, —Ç—ã –ø—Ä–æ—à—ë–ª –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç ¬´–ü–ª—ë–Ω–∫–∞ —Å—É–¥—å–±—ã¬ª –∏ –º—ã –≥–æ—Ç–æ–≤—ã –∑–∞–≥–ª—è–Ω—É—Ç—å –∫ —Ç–µ–±–µ –≤ –¥—É—à—É –∏ –ø–æ–∫–∞–∑–∞—Ç—å, –∫–µ–º –±—ã —Ç—ã –∂–∏–ª(–∞) –≤ –ø—Ä–æ—à–ª–æ–º –≤–µ–∫–µ. üëáüëáüëá\n\n"
)

RESULTS = {
    "factory_worker": (
        "üè≠ <b>–§–∞–±—Ä–∏—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π</b>\n"
        "¬´–ü—è—Ç–∏–ª–µ—Ç–∫—É ‚Äî –≤ —á–µ—Ç—ã—Ä–µ –≥–æ–¥–∞!¬ª –†–∞–±–æ—á–∏–µ XX –≤–µ–∫–∞ ‚Äî –∫–∞–∫ —Å—É–ø–µ—Ä–≥–µ—Ä–æ–∏ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –ö–æ–≤–∞–ª–∏ –ø–æ–±–µ–¥—ã —É —Å—Ç–∞–Ω–∫–∞, —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ —Å—Ç–∞—Ö–∞–Ω–æ–≤—Å–∫–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ –∏ –¥–∞–∂–µ —Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –≥–µ—Ä–æ—è–º–∏ –∫–∏–Ω–æ! "
        "–í –°–°–°–† —Ä–∞–±–æ—á–∏–µ –±—ã–ª–∏ –≥–ª–∞–≤–Ω—ã–º–∏ –≥–µ—Ä–æ—è–º–∏ —Å—Ç—Ä–∞–Ω—ã: —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–ª–∏—Å—å –∑–∞ –∑–≤–∞–Ω–∏–µ —É–¥–∞—Ä–Ω–∏–∫–∞, —Å—Ç—Ä–æ–∏–ª–∏ –î–Ω–µ–ø—Ä–æ–≥—ç—Å –∏ –∑–∞–ø—É—Å–∫–∞–ª–∏ –≥–∏–≥–∞–Ω—Ç—Å–∫–∏–µ —Ç—Ä–∞–∫—Ç–æ—Ä—ã.\n"
        "<b>–ó–Ω–∞–º–µ–Ω–∏—Ç—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏:</b>\n"
        "‚Ä¢ –ê–ª–µ–∫—Å–µ–π –°—Ç–∞—Ö–∞–Ω–æ–≤ (—Ä–µ–∫–æ—Ä–¥—Å–º–µ–Ω —Å—Ä–µ–¥–∏ —à–∞—Ö—Ç—ë—Ä–æ–≤)\n"
        "‚Ä¢ –ò–≤–∞–Ω –û–≤—á–∏–Ω–Ω–∏–∫–æ–≤ (—É–¥–∞—Ä–Ω–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞)\n"
        "‚Ä¢ –ê–ª–µ–∫—Å–µ–π –ì–∞—Å—Ç–µ–≤ (–ø–æ—ç—Ç —Ç—Ä—É–¥–∞, –≤–¥–æ—Ö–Ω–æ–≤–ª—è–ª —Ä–∞–±–æ—á–∏–µ –∫–æ–ª–ª–µ–∫—Ç–∏–≤—ã)\n"
        "‚Ä¢ –ì–µ—Ä–æ–∏ —Ñ–∏–ª—å–º–æ–≤ ¬´–í–µ—Å–Ω–∞ –Ω–∞ –ó–∞—Ä–µ—á–Ω–æ–π —É–ª–∏—Ü–µ¬ª –∏ ¬´–ö—É–±–∞–Ω—Å–∫–∏–µ –∫–∞–∑–∞–∫–∏¬ª"
    ),
    "technician": (
        "üî© <b>–¢–µ—Ö–Ω–∞—Ä—å</b>\n"
        "–ï—Å–ª–∏ XX –≤–µ–∫ ‚Äî –≥–∏–≥–∞–Ω—Ç—Å–∫–∏–π –º–µ—Ö–∞–Ω–∏–∑–º, —Ç–æ —Ç—ã –±—ã–ª –±—ã —Ç–µ–º, –∫—Ç–æ –µ–≥–æ –∑–∞–≤–æ–¥–∏—Ç! –¢–µ—Ö–Ω–∞—Ä–∏ —Å–æ–±–∏—Ä–∞–ª–∏ –ø–µ—Ä–≤—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –Ω–∞ –∫–æ–Ω–≤–µ–π–µ—Ä–µ, –ø–∏—Å–∞–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ –ø–µ—Ä—Ñ–æ–∫–∞—Ä—Ç–∞—Ö –∏ –∑–∞–ø—É—Å–∫–∞–ª–∏ —Ä–∞–∫–µ—Ç—ã. "
        "–í –°–°–°–† –∏—Ö –Ω–∞–∑—ã–≤–∞–ª–∏ ¬´–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–ª–µ—Ç–∞—Ä–∏–∞—Ç¬ª ‚Äî –±–µ–∑ –Ω–∏—Ö –Ω–µ –±—ã–ª–æ –±—ã –Ω–∏ –ì–∞–≥–∞—Ä–∏–Ω–∞, –Ω–∏ —Å–ø—É—Ç–Ω–∏–∫–∞, –Ω–∏ —Å–æ–≤–µ—Ç—Å–∫–∏—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–Ω–∏–º–∞–ª–∏ —Ü–µ–ª—ã–µ –∫–æ–º–Ω–∞—Ç—ã.\n"
        "<b>–ó–≤—ë–∑–¥—ã —ç–ø–æ—Ö–∏:</b>\n"
        "‚Ä¢ –°–µ—Ä–≥–µ–π –ö–æ—Ä–æ–ª—ë–≤ ‚Äî –≥–ª–∞–≤–Ω—ã–π –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π –º–µ—á—Ç–∞—Ç–µ–ª—å\n"
        "‚Ä¢ –õ–µ–≤ –¢–µ—Ä–º–µ–Ω ‚Äî –∏–∑–æ–±—Ä—ë–ª –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∏–≥—Ä–∞—é—Ç –±–µ–∑ –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏–π\n"
        "‚Ä¢ –ê–≥–Ω–∏—è –ë–∞—Ä—Ç–æ ‚Äî –∏–Ω–∂–µ–Ω–µ—Ä–∫–∞ –∏ –¥–µ—Ç—Å–∫–∞—è –ø–æ—ç—Ç–µ—Å—Å–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ\n"
        "‚Ä¢ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü–æ–Ω—è—Ç–æ–≤ ‚Äî –æ—Å–Ω–æ–≤–∞—Ç–µ–ª—å Ampex, –∫–æ—Ä–æ–ª—å –º–∞–≥–Ω–∏—Ç–æ—Ñ–æ–Ω–æ–≤\n"
        "<i>–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ:</i> –ü–µ—Ä–≤—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–∫–ª—é—á–∞–ª–∏ –ª–∞–º–ø—ã –∏ –º–µ—á—Ç–∞–ª–∏ –æ–± –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–µ ¬´Ctrl+Z¬ª!"
    ),
    "creator": (
        "üé® <b>–¢–≤–æ—Ä–µ—Ü</b>\n"
        "–í—Ä–µ–º—è —Ü–µ–Ω–∑—É—Ä—ã, –ø–æ–¥–ø–æ–ª—å–Ω—ã—Ö –≤—ã—Å—Ç–∞–≤–æ–∫ –∏ –º—É–∑—ã–∫–∏ –Ω–∞ —Ä–µ–Ω—Ç–≥–µ–Ω–æ–≤—Å–∫–∏—Ö —Å–Ω–∏–º–∫–∞—Ö! –¢–≤–æ—Ä—Ü—ã –ø–∏—Å–∞–ª–∏ ¬´–≤ —Å—Ç–æ–ª¬ª, —Ä–∏—Å–æ–≤–∞–ª–∏ –≤ –ø–æ–¥–≤–∞–ª–∞—Ö, –∞ —Ñ–∏–ª—å–º—ã —Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –∫—É–ª—å—Ç–æ–≤—ã–º–∏ –≤–æ–ø—Ä–µ–∫–∏ –≤—Å–µ–º—É. "
        "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —É—Å—Ç—Ä–∞–∏–≤–∞–ª–∏ –∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –≤—ã—Å—Ç–∞–≤–∫–∏ –∏ —Å–æ–±–∏—Ä–∞–ª–∏ –Ω–∞ –Ω–∏—Ö –ø–æ—ç—Ç–æ–≤, —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤ –∏ –±—É–¥—É—â–∏—Ö —Ä–æ–∫-–∑–≤—ë–∑–¥. –í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∂–∏–ª–æ –≤ –∫–∞–∂–¥–æ–π –∫—É—Ö–Ω–µ –∏ –¥–≤–æ—Ä–µ.\n"
        "<b>–ó–≤—ë–∑–¥—ã —ç–ø–æ—Ö–∏:</b>\n"
        "‚Ä¢ –í–ª–∞–¥–∏–º–∏—Ä –í—ã—Å–æ—Ü–∫–∏–π ‚Äî –µ–≥–æ –ø–µ—Å–Ω–∏ –ø–∏—Å–∞–ª–∏ –Ω–∞ —Ä–µ–Ω—Ç–≥–µ–Ω-–ø–ª—ë–Ω–∫—É\n"
        "‚Ä¢ –ú–∏—Ö–∞–∏–ª –ë—É–ª–≥–∞–∫–æ–≤ ‚Äî –∞–≤—Ç–æ—Ä ¬´–ú–∞—Å—Ç–µ—Ä–∞ –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç—ã¬ª, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—Ä—è—Ç–∞–ª —Ä—É–∫–æ–ø–∏—Å—å –Ω–∞ 30 –ª–µ—Ç\n"
        "‚Ä¢ –õ—é–¥–º–∏–ª–∞ –ì—É—Ä—á–µ–Ω–∫–æ ‚Äî –∞–∫—Ç—Ä–∏—Å–∞-–æ—Ç—Ç–µ–ø–µ–ª—å –∏ –∏–∫–æ–Ω–∞ —Å—Ç–∏–ª—è\n"
        "‚Ä¢ –û—Å–∫–∞—Ä –†–∞–±–∏–Ω ‚Äî —É—Å—Ç—Ä–æ–∏–ª –ø–µ—Ä–≤—É—é –≤—ã—Å—Ç–∞–≤–∫—É —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤-–Ω–æ–Ω–∫–æ–Ω—Ñ–æ—Ä–º–∏—Å—Ç–æ–≤\n"
        "<i>–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ:</i> –ò–Ω–æ–≥–¥–∞ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω—ã —Ö—Ä–∞–Ω–∏–ª–∏‚Ä¶ –∑–∞ —à–∫–∞—Ñ–æ–º."
    ),
}

FINAL_BLOCK = (
    "\n\nüé¨ –ù—É —á—Ç–æ –∂–µ, —Ç—ã —É–∑–Ω–∞–ª, –∫–∞–∫–æ–π –±—É–¥–µ—Ç —Ç–≤–æ—è —Ä–æ–ª—å –≤ –∏—Å—Ç–æ—Ä–∏–∏?\n\n"
    "–î–æ–≤–æ–ª–µ–Ω —Å–≤–æ–∏–º –≤—ã–±–æ—Ä–æ–º? –ï—Å–ª–∏ —Ö–æ—á–µ—à—å —É–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—å—Å—è, —Ç–æ –ø—Ä–æ—Ö–æ–¥–∏ –Ω–∞—à —á–∞—Ç-–±–æ—Ç –µ—â—ë —Ä–∞–∑ –∏ —É–∑–Ω–∞–π —Ç–æ—á–Ω–æ —Å–≤–æ—é –ø—Ä–æ—Ñ–µ—Å—Å–∏—é! üîÆ"
)

def get_result_text(profession_key):
    return (
        INTRO_TEXT +
        RESULTS[profession_key] +
        FINAL_BLOCK
    )


import os
import asyncio
from aiogram import Bot, Dispatcher, types
from aiogram.types import ReplyKeyboardMarkup, KeyboardButton
from aiogram.utils import executor

API_TOKEN = os.getenv("BOT_TOKEN") or "–í–ê–®_–¢–û–ö–ï–ù_–ó–î–ï–°–¨"

bot = Bot(token=API_TOKEN)
dp = Dispatcher(bot)

# --- –ú–∞—Å—Å–∏–≤ –∏–∑ 14 –≤–æ–ø—Ä–æ—Å–æ–≤ ---
questions = [
    {
        "text": "–¢—ã —Å–∫–æ—Ä–µ–µ...",
        "options": [
            {"emoji": "üîß", "text": "–õ—é–±–ª—é –∏–∑–æ–±—Ä–µ—Ç–∞—Ç—å –∏ —á–∏–Ω–∏—Ç—å", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"},
            {"emoji": "üí¨", "text": "–û–±—â–∞—é—Å—å —Å –ª—é–¥—å–º–∏ –∏ —Ä—É–∫–æ–≤–æ–∂—É", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"},
            {"emoji": "üé≠", "text": "–ú–µ—á—Ç–∞—é –∏ —Å–æ–∑–¥–∞—é –∏—Å–∫—É—Å—Å—Ç–≤–æ", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "üí™", "text": "–†–∞–±–æ—Ç–∞—é —Ä—É–∫–∞–º–∏, –º–Ω–µ –Ω–µ —Å—Ç—Ä–∞—à–µ–Ω —Ç—Ä—É–¥", "value": "—Ä–∞–±–æ—á–∏–π"}
        ]
    },
    {
        "text": "–ß—Ç–æ –±—ã —Ç—ã –≤–∑—è–ª(–∞) —Å —Å–æ–±–æ–π –≤ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫—É –≤ 1965?",
        "options": [
            {"emoji": "üìï", "text": "–ó–∞–ø–∏—Å–Ω—É—é –∫–Ω–∏–∂–∫—É –∏ –ø–µ—Ä–æ", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"},
            {"emoji": "üì∑", "text": "–ü–ª—ë–Ω–∫—É, —á—Ç–æ–±—ã —Å–Ω–∏–º–∞—Ç—å —Ö—Ä–æ–Ω–∏–∫—É", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "üî¨", "text": "–ú–∏–Ω–∏-–º–∏–∫—Ä–æ—Å–∫–æ–ø ‚Äî –º–∞–ª–æ –ª–∏", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"},
            {"emoji": "ü•æ", "text": "–ö–∏—Ä–∑–æ–≤—ã–µ —Å–∞–ø–æ–≥–∏, –≤–¥—Ä—É–≥ —Å—Ç—Ä–æ–π–∫–∞", "value": "—Ä–∞–±–æ—á–∏–π"}
        ]
    },
    {
        "text": "–í—ã–±–µ—Ä–∏ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ:",
        "options": [
            {"emoji": "üè≠", "text": "–ó–∞–≤–æ–¥ —Å –≥—É–ª–æ–º —Å—Ç–∞–Ω–∫–æ–≤", "value": "—Ä–∞–±–æ—á–∏–π"},
            {"emoji": "üìö", "text": "–ö–∞–±–∏–Ω–µ—Ç —Å –∫–Ω–∏–≥–∞–º–∏ –∏ –±—É–º–∞–≥–∞–º–∏", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"},
            {"emoji": "üé¨", "text": "–°—ä—ë–º–æ—á–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞ –∏–ª–∏ —Å—Ü–µ–Ω–∞", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "‚úàÔ∏è", "text": "–ö–∞–±–∏–Ω–∞ –ø–∏–ª–æ—Ç–∞ –∏–ª–∏ –∫–æ–º–∞–Ω–¥–Ω—ã–π –ø—É–Ω–∫—Ç", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"}
        ]
    },
    {
        "text": "–¢—ã –ø–æ–ª—É—á–∏–ª(–∞) —Å—Ä–æ—á–Ω—É—é —Ç–µ–ª–µ–≥—Ä–∞–º–º—É –∏–∑ –¶–ö. –¢–≤–æ—è —Ä–µ–∞–∫—Ü–∏—è?",
        "options": [
            {"emoji": "üì¨", "text": "–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –¥–æ–∫–ª–∞–¥—ã–≤–∞—é –Ω–∞—á–∞–ª—å—Å—Ç–≤—É ‚Äî —ç—Ç–æ –≤–∞–∂–Ω–æ", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"},
            {"emoji": "üß™", "text": "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –¥–∞–Ω–Ω—ã–µ, –≤–¥—Ä—É–≥ —ç—Ç–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"},
            {"emoji": "‚úçÔ∏è", "text": "–ü—Ä–µ–≤—Ä–∞—â–∞—é –≤ —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî –∑–≤—É—á–∏—Ç –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–Ω–æ", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "ü§∑‚Äç‚ôÇÔ∏è", "text": "–°–Ω–∞—á–∞–ª–∞ –¥–æ–¥–µ–ª–∞—é —Å–º–µ–Ω—É, –ø–æ—Ç–æ–º –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ", "value": "—Ä–∞–±–æ—á–∏–π"}
        ]
    },
    {
        "text": "–ù–∞ —É–ª–∏—Ü—É –≤—ã–±—Ä–æ—Å–∏–ª–∏ —Ä–µ–¥–∫–∏–π —Ç—Ä–æ—Ñ–µ–π–Ω—ã–π –º–∞–≥–Ω–∏—Ç–æ—Ñ–æ–Ω 1950-—Ö. –ß—Ç–æ —Ç—ã —Å–¥–µ–ª–∞–µ—à—å?",
        "options": [
            {"emoji": "üîß", "text": "–ü–æ—á–∏–Ω—é! –≠—Ç–æ –Ω–∞—Å—Ç–æ—è—â–∞—è –Ω–∞—Ö–æ–¥–∫–∞", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"},
            {"emoji": "üé§", "text": "–ò—Å–ø–æ–ª—å–∑—É—é –∫–∞–∫ —Ä–µ–∫–≤–∏–∑–∏—Ç –≤ –ø—å–µ—Å–µ", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "üìª", "text": "–û—Ç–¥–∞–º –Ω–∞ –∑–∞–≤–æ–¥, –ø—É—Å—Ç—å –ø—É—Å–∫–∞—é—Ç –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ", "value": "—Ä–∞–±–æ—á–∏–π"},
            {"emoji": "üìö", "text": "–ü–æ–∏—â—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω—ë–º ‚Äî –º–æ–∂–µ—Ç, –æ–Ω —à–ø–∏–æ–Ω—Å–∫–∏–π", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"}
        ]
    },
    {
        "text": "–¢–µ–±–µ –¥–∞–ª–∏ –ø—Ä–µ–¥–º–µ—Ç: —Å–ª–∞–π–¥–æ—Å–∫–æ–ø. –ß—Ç–æ —Ç—ã –¥—É–º–∞–µ—à—å?",
        "options": [
            {"emoji": "üîç", "text": "–û—Ç–ª–∏—á–Ω—ã–π –ø—Ä–∏–±–æ—Ä ‚Äî –º–æ–∂–Ω–æ –∏–∑—É—á–∞—Ç—å –∫—Ä–∏—Å—Ç–∞–ª–ª—ã", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"},
            {"emoji": "üì∏", "text": "–ò—Å–ø–æ–ª—å–∑—É—é –¥–ª—è –¥–æ–º–∞—à–Ω–µ–π –ª–µ–∫—Ü–∏–∏", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"},
            {"emoji": "üñº", "text": "–ü—Ä–µ–≤—Ä–∞—â—É –≤ —á–∞—Å—Ç—å —Å—Ü–µ–Ω–æ–≥—Ä–∞—Ñ–∏–∏", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "‚ùì", "text": "–ù–µ –∑–Ω–∞—é, —á—Ç–æ —ç—Ç–æ, –Ω–æ –∫—Ä—É—á—É –∏ –≤–µ—Ä—á—É", "value": "—Ä–∞–±–æ—á–∏–π"}
        ]
    },
    {
        "text": "–¢–µ–±–µ –¥–∞—é—Ç –≤—ã–±–æ—Ä –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏. –ö—É–¥–∞ –ø–æ–µ–¥–µ—à—å?",
        "options": [
            {"emoji": "üöÇ", "text": "–ù–∞ –ë–∞–π–∫–∞–ª–æ-–ê–º—É—Ä—Å–∫—É—é –º–∞–≥–∏—Å—Ç—Ä–∞–ª—å", "value": "—Ä–∞–±–æ—á–∏–π"},
            {"emoji": "üé≠", "text": "–í –î–æ–º —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞ –≤ –ü–µ—Ä–µ–¥–µ–ª–∫–∏–Ω–æ", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "üß™", "text": "–í –∑–∞–∫—Ä—ã—Ç—É—é –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"},
            {"emoji": "üß±", "text": "–ù–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ–ª–∞ –ø–æ—Å–ª–µ –≤–æ–π–Ω—ã", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"}
        ]
    },
    {
        "text": "–¢—ã –æ–∫–∞–∑–∞–ª—Å—è(–ª–∞—Å—å) –≤ 1943. –ß—Ç–æ –¥–µ–ª–∞–µ—à—å?",
        "options": [
            {"emoji": "‚öîÔ∏è", "text": "–ò–¥—É –Ω–∞ —Ñ—Ä–æ–Ω—Ç –¥–æ–±—Ä–æ–≤–æ–ª—å—Ü–µ–º", "value": "—Ä–∞–±–æ—á–∏–π"},
            {"emoji": "üî¨", "text": "–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è—é—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ç–µ—Ö–Ω–∏–∫–∏", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"},
            {"emoji": "üì£", "text": "–ü–æ–¥–Ω–∏–º–∞—é –º–æ—Ä–∞–ª—å –¥—É—Ö–∞ –Ω–∞—Ä–æ–¥–∞", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "üöë", "text": "–†–∞–±–æ—Ç–∞—é –≤ –º–µ–¥—Å–∞–Ω–±–∞—Ç–µ", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"}
        ]
    },
    {
        "text": "–ß—Ç–æ —Ç–µ–±—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç–µ?",
        "options": [
            {"emoji": "üêå", "text": "–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –±—é—Ä–æ–∫—Ä–∞—Ç–∏—è", "value": "—Ä–∞–±–æ—á–∏–π"},
            {"emoji": "üì¢", "text": "–ö–æ–≥–¥–∞ –Ω–∏–∫—Ç–æ –Ω–µ —Å–ª—É—à–∞–µ—Ç", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "üìâ", "text": "–ö–æ–≥–¥–∞ –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –≤ —Ç–æ–º, —á—Ç–æ –¥–µ–ª–∞–µ—à—å", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"},
            {"emoji": "üö´", "text": "–ö–æ–≥–¥–∞ –Ω–µ –¥–∞—é—Ç –Ω–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å —Ä—É–∫–∞–º–∏", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"}
        ]
    },
    {
        "text": "–¢–≤–æ–π –≥–ª–∞–≤–Ω—ã–π —Ä–∞–±–æ—á–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç?",
        "options": [
            {"emoji": "‚úèÔ∏è", "text": "–ö–∞—Ä–∞–Ω–¥–∞—à –∏ –±–ª–æ–∫–Ω–æ—Ç", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"},
            {"emoji": "üîß", "text": "–ì–∞–µ—á–Ω—ã–π –∫–ª—é—á", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"},
            {"emoji": "üì¢", "text": "–ú–∏–∫—Ä–æ—Ñ–æ–Ω", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "üë©‚Äçüî¨", "text": "–ü—Ä–æ–±–∏—Ä–∫–∞", "value": "—Ä–∞–±–æ—á–∏–π"}
        ]
    },
    {
        "text": "–ß—Ç–æ –±—ã —Ç—ã –ø–æ–≤–µ—Å–∏–ª(–∞) —É —Å–µ–±—è –Ω–∞ —Å—Ç–µ–Ω–µ?",
        "options": [
            {"emoji": "üèÖ", "text": "–ü–ª–∞–∫–∞—Ç —Å –≥–µ—Ä–æ—è–º–∏ —Ç—Ä—É–¥–∞", "value": "—Ä–∞–±–æ—á–∏–π"},
            {"emoji": "üé≠", "text": "–ê—Ñ–∏—à—É —Å–ø–µ–∫—Ç–∞–∫–ª—è", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "üß¨", "text": "–°—Ö–µ–º—É —Å—Ç—Ä–æ–µ–Ω–∏—è –º–æ–ª–µ–∫—É–ª—ã", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"},
            {"emoji": "üìú", "text": "–¶–∏—Ç–∞—Ç—É –õ–µ–Ω–∏–Ω–∞ –∏–ª–∏ –ì–∞–≥–∞—Ä–∏–Ω–∞", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"}
        ]
    },
    {
        "text": "–ö–æ–≥–¥–∞ —Ç—ã —Å–ª—ã—à–∏—à—å —Å–ª–æ–≤–æ ¬´–±—É–¥—É—â–µ–µ¬ª, —Ç—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—à—å...",
        "options": [
            {"emoji": "üöÄ", "text": "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∫–æ—Å–º–æ—Å", "value": "—Ç–µ—Ö–Ω–∞—Ä—å"},
            {"emoji": "üìñ", "text": "–û–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã—Ö –ª—é–¥–µ–π", "value": "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"},
            {"emoji": "üéº", "text": "–ò—Å–∫—É—Å—Å—Ç–≤–æ –∏ —Å–≤–æ–±–æ–¥—É", "value": "—Ç–≤–æ—Ä–µ—Ü"},
            {"emoji": "üî®", "text": "–ú–Ω–æ–≥–æ —Ç—Ä—É–¥–∞ –∏ –±–æ–ª—å—à–∏—Ö —Å—Ç—Ä–æ–µ–∫", "value": "—Ä–∞–±–æ—á–∏–π"}
        ]
    }
]

# –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –∫–∞–∫–æ–π –≤–æ–ø—Ä–æ—Å –∏ —Å–ø–∏—Å–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤
user_state = {}

def make_keyboard(opts):
    kb = ReplyKeyboardMarkup(resize_keyboard=True, one_time_keyboard=True)
    for o in opts:
        kb.add(KeyboardButton(f"{o['emoji']} {o['text']}"))
    return kb

@dp.message_handler(commands=['start'])
async def start_quiz(msg: types.Message):
    user_state[msg.chat.id] = {'idx': 0, 'answers': []}
    await msg.answer("–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ ¬´–ü–ª—ë–Ω–∫–∞ —Å—É–¥—å–±—ã¬ª\n–¢–µ—Å—Ç –∏–∑ 14 –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ–∫–∞–∂–µ—Ç, –∫–µ–º –±—ã —Ç—ã –±—ã–ª(–∞) –≤ XX –≤–µ–∫–µ.")
    await asyncio.sleep(1.5)
    q = questions[0]
    await msg.answer(f"–í–æ–ø—Ä–æ—Å 1 –∏–∑ {len(questions)}:\n{q['text']}", reply_markup=make_keyboard(q['options']))

@dp.message_handler(lambda m: m.chat.id in user_state)
async def process_answer(m: types.Message):
    state = user_state[m.chat.id]
    idx = state['idx']
    # –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –≤—ã–±–æ—Ä
    choice = None
    for o in questions[idx]['options']:
        if m.text.startswith(o['emoji']):
            choice = o['value']
            break
    if choice:
        state['answers'].append(choice)
    idx += 1
    if idx < len(questions):
        state['idx'] = idx
        q = questions[idx]
        await m.answer(f"–í–æ–ø—Ä–æ—Å {idx+1} –∏–∑ {len(questions)}:\n{q['text']}", reply_markup=make_keyboard(q['options']))
    else:
        # –ø–æ–¥—Å—á—ë—Ç –∏ –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        counts = {}
        for v in state['answers']:
            counts[v] = counts.get(v, 0) + 1
        res = max(counts, key=counts.get)
        names = {"—Ç–µ—Ö–Ω–∞—Ä—å":"–¢–µ—Ö–Ω–∞—Ä—å","—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å":"–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å","—Ç–≤–æ—Ä–µ—Ü":"–¢–≤–æ—Ä–µ—Ü","—Ä–∞–±–æ—á–∏–π":"–†–∞–±–æ—á–∏–π"}
        await m.answer(f"üìù –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {names.get(res, res)}", reply_markup=types.ReplyKeyboardRemove())
        del user_state[m.chat.id]

if __name__ == "__main__":
    executor.start_polling(dp)